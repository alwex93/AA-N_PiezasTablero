<assign tl = JspTaglibs["http://freemarker.sf.net/taglibs/freemarker-junit-test-tag-2.2"]>

<!-- Test repeated execution -->
<transform tl.testtag; repeatCount=3 throwException=false
>Blah
</transform>

<!-- Test 0-time execution -->
<transform tl.testtag; repeatCount=0 throwException=false
>Blah
</transform>

<!-- Test abrupt execution -->
<transform tl.testtag; repeatCount=0 throwException=true
>Blah
</transform>

<!-- Test nested execution -->
<transform tl.testtag; repeatCount=2 throwException=false
>Outer Blah
<transform tl.testtag; repeatCount=2 throwException=false
>Inner Blah
</transform>
</transform>

<!-- Test nested execution with intermittent non-JSP transform -->
<transform tl.testtag; repeatCount=2 throwException=false>
Outer Blah
<transform compress>
<transform tl.testtag; repeatCount=2 throwException=false>
Inner Blah
</transform>
</transform>
</transform>

<!-- Test loading from JAR -->
<assign tl2 = JspTaglibs["http://freemarker.sf.net/taglibs/freemarker-junit-test-tag-2.2-2"]>
<transform tl2.testtag></transform>
<!-- Test loading from autodeployed JAR -->
<assign tl3 = JspTaglibs["http://freemarker.sf.net/taglibs/freemarker-junit-test-tag-2.2-foo"]>
<transform tl3.testtag></transform>
<!-- Test loading from root-relative URL -->
<assign tl4 = JspTaglibs["/WEB-INF/taglib2.jar"]>
<transform tl4.testtag></transform>
<!-- Test loading from non-root-relative URL -->
<assign tl5 = JspTaglibs["WEB-INF/taglib2.jar"]>
<transform tl5.testtag></transform>
